$('#modal-popover').html(" <%= escape_javascript(render(partial: 'show', locals: { event: @event, top: @top, left: @left })) %> ");
$('#event-information-popover-close-button').click( function(event) {
  $('#modal-popover').fadeOut('slow');
});
$('#modal-popover').fadeIn('slow');

$('#event-edit-button').click( function(event){
  $.ajax({
    type: 'get',
    url: edit_event_path({id: "<%= escape_javascript(@event.id.to_s) %>"})
  })
});

$('#event-delete-button').click( function(event){
  swal({
    title: "Are you sure?",
    text: "You will not be able to restore this event!",
    type: "warning",
    showCancelButton: true,
    confirmButtonColor: "#DD6B55",
    confirmButtonText: "Delete",
    closeOnConfirm: true },
    function(){
      $.ajax({
        type: 'delete',
        url: event_path({id: "<%= escape_javascript(@event.id.to_s) %>"})
      }).done(function(data) {
        $('#modal-popover').fadeOut('slow');
        $('#calendar').fullCalendar('removeEvents', [data.id]);
      })
    });

})
